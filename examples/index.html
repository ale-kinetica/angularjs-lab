<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en" ng-app="app1">
<head>
	<style type="text/css">
	iframe{
		margin: 10px;
		border: 1px solid #aaa;
		padding: 20px;
	}
	pre{
		background-color: #EEEEEE;
		width: 1000px;
		height: 300px;
		margin: 10px;
		border: 1px solid #aaa;
		padding: 20px;
		overflow: auto;
	}
	</style>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.1/angular.min.js"></script>
	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.1/angular-route.min.js"></script>
	<script type="text/javascript">
			var app = angular.module("app1", ["ngRoute"]);
			
			app.config(function($routeProvider){
				$routeProvider.when("/", {
					controller: "mainController",
					templateUrl: "main.tmpl"
				});
				$routeProvider.when("/:id", {
					controller: "mainController",
					templateUrl: "main.tmpl"
				});
			});
			
			app.controller("mainController", function($scope, $http, $routeParams){
			
				$scope.position = parseInt($routeParams.id || 1);
				
				$scope.loadSource = function(){
					$http.get($scope.example).success(function(data){
						$scope.code = data;
					});

					$http.get( "ejemplo" + $scope.position + "/app.js").success(function(data){
						$scope.jscode = data;
						$scope.showjs = true;
					}).error(function(){
						$scope.showjs = false;
					});
				};
				
				navigate = function(){
					$scope.example = "ejemplo" + $scope.position + "/index.html";
					$scope.loadSource();
				};
				


				navigate();


			
			})
		
	</script>
	<title></title>
</head>
<body ng-view>
	
</body>
</html>